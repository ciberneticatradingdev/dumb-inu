---
// Training Gallery Component - Scroll-triggered GSAP animations
---

<!-- Training Gallery with Scroll-Triggered GSAP Animations -->
<section class="training-gallery relative w-full">
  <!-- Training Slides Container -->
  <div class="slides-wrapper relative">
    <!-- Slide 1 -->
    <div class="training-slide relative w-full h-screen overflow-hidden" data-slide="0">
      <div class="slide-bg absolute inset-0 w-full h-full bg-cover bg-center bg-no-repeat" style="background-image: url('/training/training1.png')">
      </div>
    </div>

    <!-- Slide 2 -->
    <div class="training-slide relative w-full h-screen overflow-hidden" data-slide="1">
      <div class="slide-bg absolute inset-0 w-full h-full bg-cover bg-center bg-no-repeat" style="background-image: url('/training/training2.png')">
      </div>
    </div>

    <!-- Slide 3 -->
    <div class="training-slide relative w-full h-screen overflow-hidden" data-slide="2">
      <div class="slide-bg absolute inset-0 w-full h-full bg-cover bg-center bg-no-repeat" style="background-image: url('/training/training3.png')">
      </div>
    </div>

    <!-- Slide 4 -->
    <div class="training-slide relative w-full h-screen overflow-hidden" data-slide="3">
      <div class="slide-bg absolute inset-0 w-full h-full bg-cover bg-center bg-no-repeat" style="background-image: url('/training/training4.png')">
      </div>
    </div>

    <!-- Slide 5 -->
    <div class="training-slide relative w-full h-screen overflow-hidden" data-slide="4">
      <div class="slide-bg absolute inset-0 w-full h-full bg-cover bg-center bg-no-repeat" style="background-image: url('/training/training5.png')">
      </div>
    </div>


  </div>
</section>

<style>
  .training-gallery {
    margin: 0;
    padding: 0;
    line-height: 0;
  }
  
  .slides-wrapper {
    margin: 0;
    padding: 0;
    line-height: 0;
    display: block;
  }
  
  .training-slide {
    will-change: transform, opacity;
    margin: 0;
    padding: 0;
    border: none;
    line-height: 0;
    display: block;
    vertical-align: top;
  }
  
  .slide-bg {
    will-change: transform;
    transform: scale(1.5);
    margin: 0;
    padding: 0;
    line-height: 0;
    display: block;
  }
  
  /* Remove any default spacing */
  .training-slide + .training-slide {
    margin-top: 0 !important;
  }
  
  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }
  
  /* Mobile optimizations */
  @media (max-width: 768px) {
    .slide-bg {
      background-attachment: scroll;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Load GSAP and ScrollTrigger from CDN
    const gsapScript = document.createElement('script');
    gsapScript.src = 'https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js';
    gsapScript.onload = function() {
      const scrollTriggerScript = document.createElement('script');
      scrollTriggerScript.src = 'https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js';
      scrollTriggerScript.onload = function() {
        initializeAnimations();
      };
      document.head.appendChild(scrollTriggerScript);
    };
    document.head.appendChild(gsapScript);
    
    function initializeAnimations() {
      gsap.registerPlugin(ScrollTrigger);
      
      const slides = document.querySelectorAll('.training-slide');
      const slidesWrapper = document.querySelector('.slides-wrapper');
      
      if (!slides.length || !slidesWrapper) return;
      
      // Animate each slide on scroll
      slides.forEach((slide, index) => {
        const slideBg = slide.querySelector('.slide-bg');
        
        if (!slideBg) return;
        
        // Background parallax effect - subtle movement
        gsap.fromTo(slideBg, 
          {
            scale: 1.0,
            y: 0
          },
          {
            scale: 1.05,
            y: -50,
            ease: 'none',
            scrollTrigger: {
              trigger: slide,
              start: 'top bottom',
              end: 'bottom top',
              scrub: 1
            }
          }
        );
        
        // Fade transition between slides - triggered when centered
        gsap.fromTo(slide, 
          {
            opacity: 0
          },
          {
            opacity: 1,
            duration: 1.2,
            ease: 'power2.out',
            scrollTrigger: {
              trigger: slide,
              start: 'top 75%',
              end: 'center center',
              toggleActions: 'play none none reverse'
            }
          }
        );
        
        // Additional scale animation when slide is centered
        gsap.fromTo(slide, 
          {
            scale: 0.95
          },
          {
            scale: 1.0,
            duration: 1.5,
            ease: 'power2.out',
            scrollTrigger: {
              trigger: slide,
              start: 'top 60%',
              end: 'center center',
              scrub: 0.5
            }
          }
        );
      });
      
      // Smooth scroll enhancement
      ScrollTrigger.normalizeScroll(true);
      
      // Refresh ScrollTrigger on window resize
      window.addEventListener('resize', () => {
        ScrollTrigger.refresh();
      });
    }
  });
</script>